<h1 mat-dialog-title>
  @if (dialogData.state === 'creation-failed') {
    Room creation failed
  } @else if (dialogData.state === 'almost-out-of-credits') {
    ⚠️ Last credit remaining
  } @else {
    ⚠️ Out of credits
  }
</h1>
<div mat-dialog-content class="container">
  <div class="text">
    @if (dialogData.state === 'creation-failed') {
      <p>
        <strong>We couldn't create your room</strong> because you don't have any credits left. 
        Each room creation uses one credit.
      </p>
      <p>
        PlanningPoker.live helps thousands of teams run focused estimation sessions with 
        real-time voting, Jira/Linear integration, and collaboration features that keep 
        everyone aligned.
      </p>
      <p>
        Use code <strong>OUTOFCREDITS</strong> for <strong>30% off</strong> to get back on track.
      </p>
    } @else if (dialogData.state === 'almost-out-of-credits') {
      <p>
        <strong>Heads up!</strong> You're down to your <strong>last credit</strong>. 
        After this session, you won't be able to create new rooms until you top up.
      </p>
      <p>
        Don't let your next sprint planning get blocked. Teams using PlanningPoker.live 
        estimate <strong>40% faster</strong> with our streamlined voting and instant consensus tools.
      </p>
      <p>
        Use code <strong>ALMOSTOUTOFCREDITS</strong> for <strong>15% off</strong> your next purchase.
      </p>
    } @else {
      <p>
        <strong>You've run out of credits.</strong> You can finish this session, but you 
        won't be able to create new rooms until you get more.
      </p>
      <p>
        Your team relies on PlanningPoker.live for accurate estimates. Keep the momentum 
        going with real-time collaboration, async voting for distributed teams, and 
        integrations with your favorite tools.
      </p>
      <p>
        Use code <strong>OUTOFCREDITS</strong> for <strong>30% off</strong> to get back on track.
      </p>
    }
  </div>
  <div class="cards">
    <img src="/assets/header_cards.webp" alt="Planning Poker Cards" />
  </div>
</div>
<div mat-dialog-actions>
  @if (dialogData.state === 'creation-failed') {
    <button mat-flat-button (click)="openPricing()">View pricing</button>
    <button mat-button (click)="dialogRef.close()">Cancel</button>
  } @else {
    <button mat-flat-button (click)="openPricing()">Get credits now</button>
    <button mat-button (click)="dialogRef.close()">Remind me later</button>
  }
</div>
